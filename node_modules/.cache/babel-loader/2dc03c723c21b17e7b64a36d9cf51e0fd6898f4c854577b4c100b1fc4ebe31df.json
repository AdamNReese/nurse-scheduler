{"ast":null,"code":"export const Shift = {\n  DAY: 'day',\n  NIGHT: 'night'\n};\nexport const PreferenceLevel = {\n  PREFER: 'prefer',\n  NEUTRAL: 'neutral',\n  AVOID: 'avoid'\n};\nexport class Nurse {\n  constructor(name, hireDate, dayShiftPreference, nightShiftPreference, weekendPreference) {\n    this.name = name;\n    this.hireDate = new Date(hireDate);\n    this.dayShiftPreference = dayShiftPreference;\n    this.nightShiftPreference = nightShiftPreference;\n    this.weekendPreference = weekendPreference;\n    if (this.hireDate > new Date()) {\n      throw new Error('Hire date cannot be in the future');\n    }\n  }\n  get seniorityYears() {\n    const today = new Date();\n    const diffTime = today - this.hireDate;\n    return diffTime / (1000 * 60 * 60 * 24 * 365.25);\n  }\n}\nexport class ScheduleSlot {\n  constructor(date, shift, nurse = null) {\n    this.date = new Date(date);\n    this.shift = shift;\n    this.nurse = nurse;\n  }\n  get isWeekend() {\n    return this.date.getDay() === 0 || this.date.getDay() === 6; // Sunday = 0, Saturday = 6\n  }\n}\nexport class NurseScheduler {\n  constructor(nurses) {\n    this.nurses = nurses;\n  }\n  generateSchedule(startDate, numDays) {\n    const schedule = [];\n\n    // Create all schedule slots\n    for (let day = 0; day < numDays; day++) {\n      const currentDate = new Date(startDate);\n      currentDate.setDate(startDate.getDate() + day);\n      schedule.push(new ScheduleSlot(currentDate, Shift.DAY));\n      schedule.push(new ScheduleSlot(currentDate, Shift.NIGHT));\n    }\n\n    // Assign nurses to shifts\n    this._assignShifts(schedule);\n    return schedule;\n  }\n  _assignShifts(schedule) {\n    const nightShifts = schedule.filter(slot => slot.shift === Shift.NIGHT);\n    const dayShifts = schedule.filter(slot => slot.shift === Shift.DAY);\n    this._assignNightShifts(nightShifts);\n    this._assignDayShifts(dayShifts);\n  }\n  _assignNightShifts(nightShifts) {\n    // Sort nurses by night shift preference (prefer first), then by seniority (newest first)\n    const nightPreferenceOrder = [...this.nurses].sort((a, b) => {\n      if (a.nightShiftPreference === PreferenceLevel.PREFER && b.nightShiftPreference !== PreferenceLevel.PREFER) return -1;\n      if (b.nightShiftPreference === PreferenceLevel.PREFER && a.nightShiftPreference !== PreferenceLevel.PREFER) return 1;\n      if (a.nightShiftPreference === PreferenceLevel.AVOID && b.nightShiftPreference !== PreferenceLevel.AVOID) return 1;\n      if (b.nightShiftPreference === PreferenceLevel.AVOID && a.nightShiftPreference !== PreferenceLevel.AVOID) return -1;\n      return a.seniorityYears - b.seniorityYears; // Lower seniority (newer) first\n    });\n    const nurseAssignments = {};\n    this.nurses.forEach(nurse => {\n      nurseAssignments[nurse.name] = 0;\n    });\n    nightShifts.forEach(slot => {\n      const bestNurse = this._findBestNurseForSlot(slot, nightPreferenceOrder, nurseAssignments);\n      if (bestNurse) {\n        slot.nurse = bestNurse;\n        nurseAssignments[bestNurse.name]++;\n      }\n    });\n  }\n  _assignDayShifts(dayShifts) {\n    const dayPreferenceOrder = [...this.nurses].sort((a, b) => {\n      if (a.dayShiftPreference === PreferenceLevel.PREFER && b.dayShiftPreference !== PreferenceLevel.PREFER) return -1;\n      if (b.dayShiftPreference === PreferenceLevel.PREFER && a.dayShiftPreference !== PreferenceLevel.PREFER) return 1;\n      if (a.dayShiftPreference === PreferenceLevel.AVOID && b.dayShiftPreference !== PreferenceLevel.AVOID) return 1;\n      if (b.dayShiftPreference === PreferenceLevel.AVOID && a.dayShiftPreference !== PreferenceLevel.AVOID) return -1;\n      return a.seniorityYears - b.seniorityYears; // Lower seniority (newer) first\n    });\n    const nurseAssignments = {};\n    this.nurses.forEach(nurse => {\n      nurseAssignments[nurse.name] = 0;\n    });\n    dayShifts.forEach(slot => {\n      if (!slot.nurse) {\n        const bestNurse = this._findBestNurseForSlot(slot, dayPreferenceOrder, nurseAssignments);\n        if (bestNurse) {\n          slot.nurse = bestNurse;\n          nurseAssignments[bestNurse.name]++;\n        }\n      }\n    });\n  }\n  _findBestNurseForSlot(slot, preferenceOrder, nurseAssignments) {\n    for (const nurse of preferenceOrder) {\n      if (this._isNurseAvailable(nurse, slot)) {\n        if (slot.isWeekend && nurse.weekendPreference === PreferenceLevel.AVOID) {\n          continue;\n        }\n        return nurse;\n      }\n    }\n    return null;\n  }\n  _isNurseAvailable(nurse, slot) {\n    // Simplified availability check\n    return true;\n  }\n}","map":{"version":3,"names":["Shift","DAY","NIGHT","PreferenceLevel","PREFER","NEUTRAL","AVOID","Nurse","constructor","name","hireDate","dayShiftPreference","nightShiftPreference","weekendPreference","Date","Error","seniorityYears","today","diffTime","ScheduleSlot","date","shift","nurse","isWeekend","getDay","NurseScheduler","nurses","generateSchedule","startDate","numDays","schedule","day","currentDate","setDate","getDate","push","_assignShifts","nightShifts","filter","slot","dayShifts","_assignNightShifts","_assignDayShifts","nightPreferenceOrder","sort","a","b","nurseAssignments","forEach","bestNurse","_findBestNurseForSlot","dayPreferenceOrder","preferenceOrder","_isNurseAvailable"],"sources":["/Users/adamreese/code/scheduler/nurse-scheduler-app/src/scheduler.js"],"sourcesContent":["export const Shift = {\n  DAY: 'day',\n  NIGHT: 'night'\n};\n\nexport const PreferenceLevel = {\n  PREFER: 'prefer',\n  NEUTRAL: 'neutral',\n  AVOID: 'avoid'\n};\n\nexport class Nurse {\n  constructor(name, hireDate, dayShiftPreference, nightShiftPreference, weekendPreference) {\n    this.name = name;\n    this.hireDate = new Date(hireDate);\n    this.dayShiftPreference = dayShiftPreference;\n    this.nightShiftPreference = nightShiftPreference;\n    this.weekendPreference = weekendPreference;\n    \n    if (this.hireDate > new Date()) {\n      throw new Error('Hire date cannot be in the future');\n    }\n  }\n\n  get seniorityYears() {\n    const today = new Date();\n    const diffTime = today - this.hireDate;\n    return diffTime / (1000 * 60 * 60 * 24 * 365.25);\n  }\n}\n\nexport class ScheduleSlot {\n  constructor(date, shift, nurse = null) {\n    this.date = new Date(date);\n    this.shift = shift;\n    this.nurse = nurse;\n  }\n\n  get isWeekend() {\n    return this.date.getDay() === 0 || this.date.getDay() === 6; // Sunday = 0, Saturday = 6\n  }\n}\n\nexport class NurseScheduler {\n  constructor(nurses) {\n    this.nurses = nurses;\n  }\n\n  generateSchedule(startDate, numDays) {\n    const schedule = [];\n    \n    // Create all schedule slots\n    for (let day = 0; day < numDays; day++) {\n      const currentDate = new Date(startDate);\n      currentDate.setDate(startDate.getDate() + day);\n      \n      schedule.push(new ScheduleSlot(currentDate, Shift.DAY));\n      schedule.push(new ScheduleSlot(currentDate, Shift.NIGHT));\n    }\n    \n    // Assign nurses to shifts\n    this._assignShifts(schedule);\n    \n    return schedule;\n  }\n\n  _assignShifts(schedule) {\n    const nightShifts = schedule.filter(slot => slot.shift === Shift.NIGHT);\n    const dayShifts = schedule.filter(slot => slot.shift === Shift.DAY);\n    \n    this._assignNightShifts(nightShifts);\n    this._assignDayShifts(dayShifts);\n  }\n\n  _assignNightShifts(nightShifts) {\n    // Sort nurses by night shift preference (prefer first), then by seniority (newest first)\n    const nightPreferenceOrder = [...this.nurses].sort((a, b) => {\n      if (a.nightShiftPreference === PreferenceLevel.PREFER && b.nightShiftPreference !== PreferenceLevel.PREFER) return -1;\n      if (b.nightShiftPreference === PreferenceLevel.PREFER && a.nightShiftPreference !== PreferenceLevel.PREFER) return 1;\n      if (a.nightShiftPreference === PreferenceLevel.AVOID && b.nightShiftPreference !== PreferenceLevel.AVOID) return 1;\n      if (b.nightShiftPreference === PreferenceLevel.AVOID && a.nightShiftPreference !== PreferenceLevel.AVOID) return -1;\n      return a.seniorityYears - b.seniorityYears; // Lower seniority (newer) first\n    });\n\n    const nurseAssignments = {};\n    this.nurses.forEach(nurse => {\n      nurseAssignments[nurse.name] = 0;\n    });\n\n    nightShifts.forEach(slot => {\n      const bestNurse = this._findBestNurseForSlot(slot, nightPreferenceOrder, nurseAssignments);\n      if (bestNurse) {\n        slot.nurse = bestNurse;\n        nurseAssignments[bestNurse.name]++;\n      }\n    });\n  }\n\n  _assignDayShifts(dayShifts) {\n    const dayPreferenceOrder = [...this.nurses].sort((a, b) => {\n      if (a.dayShiftPreference === PreferenceLevel.PREFER && b.dayShiftPreference !== PreferenceLevel.PREFER) return -1;\n      if (b.dayShiftPreference === PreferenceLevel.PREFER && a.dayShiftPreference !== PreferenceLevel.PREFER) return 1;\n      if (a.dayShiftPreference === PreferenceLevel.AVOID && b.dayShiftPreference !== PreferenceLevel.AVOID) return 1;\n      if (b.dayShiftPreference === PreferenceLevel.AVOID && a.dayShiftPreference !== PreferenceLevel.AVOID) return -1;\n      return a.seniorityYears - b.seniorityYears; // Lower seniority (newer) first\n    });\n\n    const nurseAssignments = {};\n    this.nurses.forEach(nurse => {\n      nurseAssignments[nurse.name] = 0;\n    });\n\n    dayShifts.forEach(slot => {\n      if (!slot.nurse) {\n        const bestNurse = this._findBestNurseForSlot(slot, dayPreferenceOrder, nurseAssignments);\n        if (bestNurse) {\n          slot.nurse = bestNurse;\n          nurseAssignments[bestNurse.name]++;\n        }\n      }\n    });\n  }\n\n  _findBestNurseForSlot(slot, preferenceOrder, nurseAssignments) {\n    for (const nurse of preferenceOrder) {\n      if (this._isNurseAvailable(nurse, slot)) {\n        if (slot.isWeekend && nurse.weekendPreference === PreferenceLevel.AVOID) {\n          continue;\n        }\n        return nurse;\n      }\n    }\n    return null;\n  }\n\n  _isNurseAvailable(nurse, slot) {\n    // Simplified availability check\n    return true;\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}